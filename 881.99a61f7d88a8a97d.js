"use strict";(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[881],{4881:(q,a,r)=>{r.r(a),r.d(a,{BooksModule:()=>X});var s=r(6814),O=r(2413),o=r(6689),u=r(5008);let B=(()=>{class t{constructor(){this.confirm=new o.vpe}onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}static#o=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=o.lG2({type:t,selectors:[["","bmConfirm",""]],hostBindings:function(n,i){1&n&&o.NdJ("click",function(){return i.onClick()})},inputs:{confirmText:["bmConfirm","confirmText"]},outputs:{confirm:"confirm"}})}return t})();var f=r(8645),C=r(9773),d=r(9346);let k=(()=>{class t{constructor(e,n,i){this.template=e,this.viewContainer=n,this.authService=i,this.destroy$=new f.x,this.authService.isAuthenticated$.pipe((0,C.R)(this.destroy$)).subscribe(l=>{l?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}ngOnDestroy(){this.destroy$.next()}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(d.e))};static#t=this.\u0275dir=o.lG2({type:t,selectors:[["","bmLoggedinOnly",""]]})}return t})(),T=(()=>{class t{transform(e){return e?`${e.substring(0,3)}-${e.substring(3)}`:""}static#o=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=o.Yjl({name:"isbn",type:t,pure:!0})}return t})();function I(t,_){if(1&t&&(o.TgZ(0,"p",13),o._uU(1),o.qZA()),2&t){const e=o.oxw().ngIf;o.xp6(1),o.Oqu(e.subtitle)}}function A(t,_){if(1&t&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&t){const e=_.$implicit;o.xp6(1),o.Oqu(e)}}function E(t,_){if(1&t&&(o.TgZ(0,"div")(1,"h2"),o.SDv(2,14),o.qZA(),o._uU(3),o.ALo(4,"date"),o.qZA()),2&t){const e=o.oxw().ngIf;o.xp6(3),o.hij(" ",o.xi3(4,1,e.published,"longDate")," ")}}function L(t,_){if(1&t&&o._UZ(0,"img",15),2&t){const e=o.oxw().ngIf;o.Q6J("src",e.thumbnailUrl,o.LSH)}}const b=function(t){return["/admin/edit",t]};function h(t,_){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"button",16),o.NdJ("confirm",function(){o.CHM(e);const i=o.oxw().ngIf,l=o.oxw();return o.KtG(l.removeBook(i.isbn))}),o.SDv(2,17),o.qZA(),o.TgZ(3,"a",18),o.SDv(4,19),o.qZA(),o.BQk()}if(2&t){const e=o.oxw().ngIf;o.xp6(3),o.Q6J("routerLink",o.VKq(1,b,e.isbn))}}function N(t,_){if(1&t&&(o.TgZ(0,"div",1)(1,"h1"),o._uU(2),o.qZA(),o.YNc(3,I,2,1,"p",2),o.TgZ(4,"div",3)(5,"div")(6,"h2"),o.SDv(7,4),o.qZA(),o.TgZ(8,"ul"),o.YNc(9,A,2,1,"li",5),o.qZA()(),o.TgZ(10,"div")(11,"h2"),o.SDv(12,6),o.qZA(),o._uU(13),o.ALo(14,"isbn"),o.qZA(),o.YNc(15,E,5,4,"div",7),o.qZA(),o.TgZ(16,"h2"),o.SDv(17,8),o.qZA(),o.TgZ(18,"p"),o._uU(19),o.qZA(),o.YNc(20,L,1,1,"img",9),o.TgZ(21,"a",10),o.SDv(22,11),o.qZA(),o.YNc(23,h,5,3,"ng-container",12),o.qZA()),2&t){const e=_.ngIf;o.xp6(2),o.Oqu(e.title),o.xp6(1),o.Q6J("ngIf",e.subtitle),o.xp6(6),o.Q6J("ngForOf",e.authors),o.xp6(4),o.hij(" ",o.lcZ(14,7,e.isbn)," "),o.xp6(2),o.Q6J("ngIf",e.published),o.xp6(4),o.Oqu(e.description),o.xp6(1),o.Q6J("ngIf",e.thumbnailUrl)}}let M=(()=>{class t{constructor(e,n,i){this.service=e,this.route=n,this.router=i;const l=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(l)}removeBook(e){this.service.remove(e).subscribe(()=>{this.router.navigateByUrl("/books")})}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(u.T),o.Y36(O.gz),o.Y36(O.F0))};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["bm-book-details"]],decls:2,vars:3,consts:function(){let e,n,i,l,m,S,p,g;return e=$localize`:headline authors|Headline for the authors@@BookDetailsComponentAuthors:Authors`,n=$localize`:headline ISBN|Headline for the ISBN@@BookDetailsComponentIsbn:ISBN`,i=$localize`:headline description|Headline for the description@@BookDetailsComponentDescription:Description`,l=$localize`:cover alt text|Alternative text when no cover is defined@@BookDetailsComponentAltCover:Cover`,m=$localize`:link back|Link for navigating back to the books list@@BookDetailsComponentBackToList:Back to list`,S=$localize`:headline published|Headline for the published date@@BookDetailsComponentPublished:Published`,p=$localize`:button remove|Button text to remove a book@@BookDetailsComponentRemove: Remove book `,g=$localize`:button edit|Button text to edit a book@@BookDetailsComponentEdit: Edit book `,[["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],e,[4,"ngFor","ngForOf"],n,[4,"ngIf"],i,["alt",l,3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],m,[4,"bmLoggedinOnly"],["role","doc-subtitle"],S,["alt",l,3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],p,[1,"button",3,"routerLink"],g]},template:function(n,i){1&n&&(o.YNc(0,N,24,9,"div",0),o.ALo(1,"async")),2&n&&o.Q6J("ngIf",o.lcZ(1,1,i.book$))},dependencies:[s.sg,s.O5,O.rH,B,k,s.Ov,s.uU,T]})}return t})();function D(t,_){if(1&t&&o._UZ(0,"img",7),2&t){const e=o.oxw(2);o.Q6J("src",e.book.thumbnailUrl,o.LSH)}}function v(t,_){if(1&t&&(o.TgZ(0,"p",8),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.book.subtitle," ")}}function P(t,_){if(1&t&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&t){const e=_.$implicit;o.xp6(1),o.hij(" ",e," ")}}function K(t,_){if(1&t&&(o.TgZ(0,"a",1),o.YNc(1,D,1,1,"img",2),o.TgZ(2,"h2"),o._uU(3),o.qZA(),o.YNc(4,v,2,1,"p",3),o.TgZ(5,"ul",4),o.YNc(6,P,2,1,"li",5),o.qZA(),o.TgZ(7,"div"),o.ynx(8),o.SDv(9,6),o.BQk(),o._uU(10),o.ALo(11,"isbn"),o.qZA()()),2&t){const e=o.oxw();o.Q6J("routerLink",e.book.isbn),o.xp6(1),o.Q6J("ngIf",e.book.thumbnailUrl),o.xp6(2),o.Oqu(e.book.title),o.xp6(1),o.Q6J("ngIf",e.book.subtitle),o.xp6(2),o.Q6J("ngForOf",e.book.authors),o.xp6(4),o.hij(" ",o.lcZ(11,6,e.book.isbn),"")}}let $=(()=>{class t{static#o=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:function(){let e,n;return e=$localize`:cover alt text|Alternative text when no cover is defined@@BookListItemComponentAltCover:Cover`,n=$localize`:book text before ISBN|Text for ISBN right before the number@@BookListItemComponentIsbn:ISBN`,[["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt",e,3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],n,["alt",e,3,"src"],["role","doc-subtitle"]]},template:function(n,i){1&n&&o.YNc(0,K,12,8,"a",0),2&n&&o.Q6J("ngIf",i.book)},dependencies:[s.sg,s.O5,O.rH,T]})}return t})();function x(t,_){if(1&t&&(o.TgZ(0,"li"),o._UZ(1,"bm-book-list-item",5),o.qZA()),2&t){const e=_.$implicit;o.xp6(1),o.Q6J("book",e)}}function R(t,_){1&t&&(o.TgZ(0,"li"),o.SDv(1,6),o.qZA())}function Z(t,_){if(1&t&&(o.TgZ(0,"ul",2),o.YNc(1,x,2,1,"li",3),o.YNc(2,R,2,0,"li",4),o.qZA()),2&t){const e=_.ngIf;o.xp6(1),o.Q6J("ngForOf",e),o.xp6(1),o.Q6J("ngIf",!e.length)}}const y=[{path:"",component:(()=>{class t{constructor(e){this.service=e,this.books$=this.service.getAll()}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(u.T))};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["bm-book-list"]],decls:4,vars:3,consts:function(){let e,n;return e=$localize`:title books|Title for the books page@@BookListComponentTitle:Books`,n=$localize`:text no books|Text displayed when no books are available@@BookListComponentNoBooks: No books available. `,[e,["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"],n]},template:function(n,i){1&n&&(o.TgZ(0,"h1"),o.SDv(1,0),o.qZA(),o.YNc(2,Z,3,2,"ul",1),o.ALo(3,"async")),2&n&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,1,i.books$)))},dependencies:[s.sg,s.O5,$,s.Ov]})}return t})()},{path:":isbn",component:M}];let G=(()=>{class t{static#o=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=o.oAB({type:t});static#e=this.\u0275inj=o.cJS({imports:[O.Bz.forChild(y),O.Bz]})}return t})(),X=(()=>{class t{static#o=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=o.oAB({type:t});static#e=this.\u0275inj=o.cJS({imports:[s.ez,G]})}return t})()}}]);