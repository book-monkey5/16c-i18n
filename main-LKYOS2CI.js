import{a as A}from"./chunk-YP25AK4D.js";import{$ as ie,Aa as S,Ba as Ce,C as p,Ca as G,D as v,Da as Ee,I as M,J as O,N as $,Q as g,R as oe,S as s,T as a,U as b,X as N,Y as m,Z as _,_ as z,aa as h,ba as re,c as W,ca as se,d as Y,ea as ae,fa as le,ga as ce,i as q,ia as ue,j as Z,k as Q,l as ee,ma as pe,n as B,na as me,oa as k,pa as fe,q as te,r as P,sa as de,t as ne,ta as ge,u as F,ua as _e,va as he,w as E,wa as Me,x as T,ya as Se,za as Ae}from"./chunk-DYDKZOJH.js";var j=":",ye="|",Pe="@@",De="\u241F",Te;function $e(e){Te??=new TextEncoder;let n=Te.encode(e),t=new DataView(n.buffer,n.byteOffset,n.byteLength),o=Ne(t,n.length,0),r=Ne(t,n.length,102072);return o==0&&(r==0||r==1)&&(o=o^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(o))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function we(e,n=""){let t=$e(e);return n&&(t=BigInt.asUintN(64,t<<BigInt(1))|t>>BigInt(63)&BigInt(1),t+=$e(n)),BigInt.asUintN(63,t).toString()}function Ne(e,n,t){let o=2654435769,r=2654435769,i=0,u=n-12;for(;i<=u;i+=12){o+=e.getUint32(i,!0),r+=e.getUint32(i+4,!0),t+=e.getUint32(i+8,!0);let l=Ie(o,r,t);o=l[0],r=l[1],t=l[2]}let c=n-i;return t+=n,c>=4?(o+=e.getUint32(i,!0),i+=4,c>=8?(r+=e.getUint32(i,!0),i+=4,c>=9&&(t+=e.getUint8(i++)<<8),c>=10&&(t+=e.getUint8(i++)<<16),c===11&&(t+=e.getUint8(i++)<<24)):(c>=5&&(r+=e.getUint8(i++)),c>=6&&(r+=e.getUint8(i++)<<8),c===7&&(r+=e.getUint8(i++)<<16))):(c>=1&&(o+=e.getUint8(i++)),c>=2&&(o+=e.getUint8(i++)<<8),c===3&&(o+=e.getUint8(i++)<<16)),Ie(o,r,t)[2]}function Ie(e,n,t){return e-=n,e-=t,e^=t>>>13,n-=t,n-=e,n^=e<<8,t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t>>>12,n-=t,n-=e,n^=e<<16,t-=e,t-=n,t^=n>>>5,e-=n,e-=t,e^=t>>>3,n-=t,n-=e,n^=e<<10,t-=e,t-=n,t^=n>>>15,[e,n,t]}function Be(e,n,t,o,r=[]){let i={},u={},c={},l=Fe(e[0],e.raw[0]),d=[l.text],X=[],w=l.text;for(let f=1;f<e.length;f++){let{messagePart:V,placeholderName:C=Ge(f),associatedMessageId:K}=ze(e[f],e.raw[f]);w+=`{$${C}}${V}`,n!==void 0&&(i[C]=n[f-1],u[C]=r[f-1]),X.push(C),K!==void 0&&(c[C]=K),d.push(V)}let J=l.customId||we(w,l.meaning||""),xe=l.legacyIds?l.legacyIds.filter(f=>f!==J):[];return{id:J,legacyIds:xe,substitutions:i,substitutionLocations:u,text:w,customId:l.customId,meaning:l.meaning||"",description:l.description||"",messageParts:d,messagePartLocations:o,placeholderNames:X,associatedMessageIds:c,location:t}}function Fe(e,n){let{text:t,block:o}=ve(e,n);if(o===void 0)return{text:t};{let[r,...i]=o.split(De),[u,c]=r.split(Pe,2),[l,d]=u.split(ye,2);return d===void 0&&(d=l,l=void 0),d===""&&(d=void 0),{text:t,meaning:l,description:d,customId:c,legacyIds:i}}}function ze(e,n){let{text:t,block:o}=ve(e,n);if(o===void 0)return{messagePart:t};{let[r,i]=o.split(Pe);return{messagePart:t,placeholderName:r,associatedMessageId:i}}}function ve(e,n){if(n.charAt(0)!==j)return{text:e};{let t=Ue(e,n);return{block:e.substring(1,t),text:e.substring(t+1)}}}function Ge(e){return e===1?"PH":`PH_${e-1}`}function Ue(e,n){for(let t=1,o=1;t<e.length;t++,o++)if(n[o]==="\\")o++;else if(e[t]===j)return t;throw new Error(`Unterminated $localize metadata block in "${n}".`)}var U=class extends Error{parsedMessage;type="MissingTranslationError";constructor(n){super(`No translation found for ${Oe(n)}.`),this.parsedMessage=n}};function je(e,n,t){let o=Be(n,t),r=e[o.id];if(o.legacyIds!==void 0)for(let i=0;i<o.legacyIds.length&&r===void 0;i++)r=e[o.legacyIds[i]];if(r===void 0)throw new U(o);return[r.messageParts,r.placeholderNames.map(i=>{if(o.substitutions.hasOwnProperty(i))return o.substitutions[i];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${Oe(o)}.
The translation contains a placeholder with name ${i}, which does not exist in the message.`)})]}function Xe(e){let n=e.split(/{\$([^}]*)}/),t=[n[0]],o=[];for(let i=1;i<n.length-1;i+=2)o.push(n[i]),t.push(`${n[i+1]}`);let r=t.map(i=>i.charAt(0)===j?"\\"+i:i);return{text:e,messageParts:Je(t,r),placeholderNames:o}}function Je(e,n){return Object.defineProperty(e,"raw",{value:n}),e}function Oe(e){let n=e.meaning&&` - "${e.meaning}"`,t=e.legacyIds&&e.legacyIds.length>0?` [${e.legacyIds.map(o=>`"${o}"`).join(", ")}]`:"";return`"${e.id}"${t} ("${e.text}"${n})`}function be(e){$localize.translate||($localize.translate=Ve),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(e).forEach(n=>{$localize.TRANSLATIONS[n]=Xe(e[n])})}function Ve(e,n){try{return je($localize.TRANSLATIONS,e,n)}catch(t){return console.warn(t.message),[e,n]}}function Ke(e){let n=e,t=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&o===0?1:5}var ke=["de",[["AM","PM"],void 0,void 0],void 0,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],void 0,void 0],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'um' {0}",void 0],[",",".",";","%","+","-","E","\xB7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","Euro",{ATS:["\xF6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[void 0,"\u0440."],CUC:[void 0,"Cub$"],DEM:["DM"],FKP:[void 0,"Fl\xA3"],GHS:[void 0,"\u20B5"],GNF:[void 0,"F.G."],KMF:[void 0,"FC"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],RWF:[void 0,"F.Rw"],SYP:[],THB:["\u0E3F"],TWD:["NT$"],XXX:[],ZMW:[void 0,"K"]},"ltr",Ke];var Ye=e=>["/books",e];function qe(e,n){if(e&1&&(s(0,"li")(1,"a",6),h(2),s(3,"p",7),h(4),a()()()),e&2){let t=n.$implicit;p(),g("routerLink",ae(3,Ye,t.isbn)),p(),se(" ",t.title," "),p(2),re(t.subtitle)}}function Ze(e,n){e&1&&(s(0,"li"),h(1,"No results"),a())}function Qe(e,n){if(e&1&&(s(0,"ul",3),$(1,qe,5,5,"li",4)(2,Ze,2,0,"li",5),a()),e&2){let t=n.ngIf;p(),g("ngForOf",t),p(),g("ngIf",!t.length)}}var R=class e{constructor(n){this.service=n;this.results$=this.input$.pipe(q(t=>t.length>=3),Z(500),Q(),B(()=>this.isLoading=!0),ee(t=>this.service.getAllSearch(t)),B(()=>this.isLoading=!1))}input$=new Y;isLoading=!1;results$;static \u0275fac=function(t){return new(t||e)(v(Ee))};static \u0275cmp=M({type:e,selectors:[["bm-search"]],standalone:!1,decls:4,vars:5,consts:()=>{let n;return n=$localize`:search input ARIA label|input search@@SearchComponentInput:Search`,[["searchInput",""],["type","search","autocomplete","off","aria-label",n,3,"input"],["class","search-results",4,"ngIf"],[1,"search-results"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],["role","doc-subtitle"]]},template:function(t,o){if(t&1){let r=N();s(0,"input",1,0),_("input",function(){E(r);let u=ie(1);return T(o.input$.next(u.value))}),a(),$(2,Qe,3,2,"ul",2),le(3,"async")}t&2&&(oe("loading",o.isLoading),p(2),g("ngIf",ce(3,3,o.results$)))},dependencies:[me,k,S,fe],encapsulation:2})};var H=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=M({type:e,selectors:[["bm-home"]],standalone:!1,decls:7,vars:0,consts:()=>{let n;n=$localize`:title home|Title for the home page@@HomeComponentTitle:Home`;let t;t=$localize`:link books list|Text of the link to the books screen@@HomeComponentBooks: Show book list
`;let o;return o=$localize`:headline search|Headline text above the search input@@HomeComponentSearchHeadline:Search`,[n,t,o,["routerLink","/books",1,"button","red"]]},template:function(t,o){t&1&&(s(0,"h1"),m(1,0),a(),s(2,"a",3),m(3,1),a(),s(4,"h2"),m(5,2),a(),b(6,"bm-search"))},dependencies:[S,R],encapsulation:2})};var Le=()=>{let e=F(A),n=F(Ae);return e.isAuthenticated?!0:(window.alert("Not logged in!"),n.parseUrl("/home"))};var tt=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:H},{path:"books",loadChildren:()=>import("./chunk-YAUZ7LK7.js").then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>import("./chunk-KLGOLESI.js").then(e=>e.AdminModule),canActivate:[Le]}],L=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=O({type:e});static \u0275inj=P({imports:[G.forRoot(tt),G]})};function ot(e,n){if(e&1){let t=N();s(0,"button",12),_("click",function(){E(t);let r=z();return T(r.auth.login())}),m(1,3),a()}}function it(e,n){if(e&1){let t=N();s(0,"button",13),_("click",function(){E(t);let r=z();return T(r.auth.logout())}),m(1,4),a()}}var x=class e{constructor(n){this.auth=n}changeLocale(n){localStorage.setItem("locale",n),location.reload()}static \u0275fac=function(t){return new(t||e)(v(A))};static \u0275cmp=M({type:e,selectors:[["bm-root"]],standalone:!1,decls:16,vars:2,consts:()=>{let n;n=$localize`:nav home@@AppComponentHome:Home`;let t;t=$localize`:nav books@@AppComponentBooks:Books`;let o;o=$localize`:nav admin@@AppComponentAdmin:Administration`;let r;r=$localize`:login@@AppComponentLogin:Login`;let i;return i=$localize`:logout@@AppComponentLogout:Logout`,[n,t,o,r,i,["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"actions"],["class","green",3,"click",4,"ngIf"],["class","red",3,"click",4,"ngIf"],[3,"click"],[1,"green",3,"click"],[1,"red",3,"click"]]},template:function(t,o){t&1&&(s(0,"nav")(1,"a",5),m(2,0),a(),s(3,"a",6),m(4,1),a(),s(5,"a",7),m(6,2),a(),s(7,"div",8),$(8,ot,2,0,"button",9)(9,it,2,0,"button",10),s(10,"button",11),_("click",function(){return o.changeLocale("de")}),h(11,"DE"),a(),s(12,"button",11),_("click",function(){return o.changeLocale("en")}),h(13,"EN"),a()()(),s(14,"main"),b(15,"router-outlet"),a()),t&2&&(p(8),g("ngIf",!o.auth.isAuthenticated),p(),g("ngIf",o.auth.isAuthenticated))},dependencies:[k,Se,S,Ce],encapsulation:2})};var y=class e{constructor(n){this.authService=n}intercept(n,t){let o="1234567890";if(this.authService.isAuthenticated){let r=n.clone({setHeaders:{Authorization:`Bearer ${o}`}});return t.handle(r)}else return t.handle(n)}static \u0275fac=function(t){return new(t||e)(ne(A))};static \u0275prov=te({token:e,factory:e.\u0275fac})};var D=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=O({type:e,bootstrap:[x]});static \u0275inj=P({providers:[ge(_e()),{provide:de,useClass:y,multi:!0}],imports:[Me,L]})};function rt(){return W(this,null,function*(){if(localStorage.getItem("locale")!=="de")return"en-US";let n=yield(yield fetch("messages.de.json")).json();return be(n.translations),pe(ke),"de"})}rt().then(e=>{he([{provide:ue,useValue:e}]).bootstrapModule(D,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n))});
