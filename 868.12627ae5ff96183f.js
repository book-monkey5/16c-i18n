"use strict";(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[868],{9868:(w,f,i)=>{i.r(f),i.d(f,{BooksModule:()=>u});var _=i(6895),c=i(6158),o=i(8256),C=i(6384);class T{constructor(){this.confirm=new o.vpe}onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}}T.\u0275fac=function(t){return new(t||T)},T.\u0275dir=o.lG2({type:T,selectors:[["","bmConfirm",""]],hostBindings:function(t,n){1&t&&o.NdJ("click",function(){return n.onClick()})},inputs:{confirmText:["bmConfirm","confirmText"]},outputs:{confirm:"confirm"}});var I=i(7579),A=i(4482),E=i(5403),L=i(8421),b=i(5032),M=i(8338);class m{constructor(t,n,s){this.template=t,this.viewContainer=n,this.authService=s,this.destroy$=new I.x,this.authService.isAuthenticated$.pipe(function N(e){return(0,A.e)((t,n)=>{(0,L.Xf)(e).subscribe((0,E.x)(n,()=>n.complete(),b.Z)),!n.closed&&t.subscribe(n)})}(this.destroy$)).subscribe(l=>{l?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}ngOnDestroy(){this.destroy$.next()}}m.\u0275fac=function(t){return new(t||m)(o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(M.e))},m.\u0275dir=o.lG2({type:m,selectors:[["","bmLoggedinOnly",""]]});class O{transform(t){return t?`${t.substring(0,3)}-${t.substring(3)}`:""}}function v(e,t){if(1&e&&(o.TgZ(0,"p",13),o._uU(1),o.qZA()),2&e){const n=o.oxw().ngIf;o.xp6(1),o.Oqu(n.subtitle)}}function h(e,t){if(1&e&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&e){const n=t.$implicit;o.xp6(1),o.Oqu(n)}}function D(e,t){if(1&e&&(o.TgZ(0,"div")(1,"h2"),o.SDv(2,14),o.qZA(),o._uU(3),o.ALo(4,"date"),o.qZA()),2&e){const n=o.oxw().ngIf;o.xp6(3),o.hij(" ",o.xi3(4,1,n.published,"longDate")," ")}}function P(e,t){if(1&e&&o._UZ(0,"img",15),2&e){const n=o.oxw().ngIf;o.Q6J("src",n.thumbnailUrl,o.LSH)}}O.\u0275fac=function(t){return new(t||O)},O.\u0275pipe=o.Yjl({name:"isbn",type:O,pure:!0});const K=function(e){return["/admin/edit",e]};function $(e,t){if(1&e){const n=o.EpF();o.ynx(0),o.TgZ(1,"button",16),o.NdJ("confirm",function(){o.CHM(n);const l=o.oxw().ngIf,B=o.oxw();return o.KtG(B.removeBook(l.isbn))}),o.SDv(2,17),o.qZA(),o.TgZ(3,"a",18),o.SDv(4,19),o.qZA(),o.BQk()}if(2&e){const n=o.oxw().ngIf;o.xp6(3),o.Q6J("routerLink",o.VKq(1,K,n.isbn))}}function x(e,t){if(1&e&&(o.TgZ(0,"div",1)(1,"h1"),o._uU(2),o.qZA(),o.YNc(3,v,2,1,"p",2),o.TgZ(4,"div",3)(5,"div")(6,"h2"),o.SDv(7,4),o.qZA(),o.TgZ(8,"ul"),o.YNc(9,h,2,1,"li",5),o.qZA()(),o.TgZ(10,"div")(11,"h2"),o.SDv(12,6),o.qZA(),o._uU(13),o.ALo(14,"isbn"),o.qZA(),o.YNc(15,D,5,4,"div",7),o.qZA(),o.TgZ(16,"h2"),o.SDv(17,8),o.qZA(),o.TgZ(18,"p"),o._uU(19),o.qZA(),o.YNc(20,P,1,1,"img",9),o.TgZ(21,"a",10),o.SDv(22,11),o.qZA(),o.YNc(23,$,5,3,"ng-container",12),o.qZA()),2&e){const n=t.ngIf;o.xp6(2),o.Oqu(n.title),o.xp6(1),o.Q6J("ngIf",n.subtitle),o.xp6(6),o.Q6J("ngForOf",n.authors),o.xp6(4),o.hij(" ",o.lcZ(14,7,n.isbn)," "),o.xp6(2),o.Q6J("ngIf",n.published),o.xp6(4),o.Oqu(n.description),o.xp6(1),o.Q6J("ngIf",n.thumbnailUrl)}}class p{constructor(t,n,s){this.service=t,this.route=n,this.router=s;const l=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(l)}removeBook(t){this.service.remove(t).subscribe(()=>{this.router.navigateByUrl("/books")})}}function R(e,t){if(1&e&&o._UZ(0,"img",7),2&e){const n=o.oxw(2);o.Q6J("src",n.book.thumbnailUrl,o.LSH)}}function Z(e,t){if(1&e&&(o.TgZ(0,"p",8),o._uU(1),o.qZA()),2&e){const n=o.oxw(2);o.xp6(1),o.hij(" ",n.book.subtitle," ")}}function y(e,t){if(1&e&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&e){const n=t.$implicit;o.xp6(1),o.hij(" ",n," ")}}function X(e,t){if(1&e&&(o.TgZ(0,"a",1),o.YNc(1,R,1,1,"img",2),o.TgZ(2,"h2"),o._uU(3),o.qZA(),o.YNc(4,Z,2,1,"p",3),o.TgZ(5,"ul",4),o.YNc(6,y,2,1,"li",5),o.qZA(),o.TgZ(7,"div"),o.ynx(8),o.SDv(9,6),o.BQk(),o._uU(10),o.ALo(11,"isbn"),o.qZA()()),2&e){const n=o.oxw();o.Q6J("routerLink",n.book.isbn),o.xp6(1),o.Q6J("ngIf",n.book.thumbnailUrl),o.xp6(2),o.Oqu(n.book.title),o.xp6(1),o.Q6J("ngIf",n.book.subtitle),o.xp6(2),o.Q6J("ngForOf",n.book.authors),o.xp6(4),o.hij(" ",o.lcZ(11,6,n.book.isbn),"")}}p.\u0275fac=function(t){return new(t||p)(o.Y36(C.T),o.Y36(c.gz),o.Y36(c.F0))},p.\u0275cmp=o.Xpm({type:p,selectors:[["bm-book-details"]],decls:2,vars:3,consts:function(){let e,t,n,s,l,B,d,k;return e=$localize`:headline authors|Headline for the authors@@BookDetailsComponentAuthors:Authors`,t=$localize`:headline ISBN|Headline for the ISBN@@BookDetailsComponentIsbn:ISBN`,n=$localize`:headline description|Headline for the description@@BookDetailsComponentDescription:Description`,s=$localize`:cover alt text|Alternative text when no cover is defined@@BookDetailsComponentAltCover:Cover`,l=$localize`:link back|Link for navigating back to the books list@@BookDetailsComponentBackToList:Back to list`,B=$localize`:headline published|Headline for the published date@@BookDetailsComponentPublished:Published`,d=$localize`:button remove|Button text to remove a book@@BookDetailsComponentRemove: Remove book `,k=$localize`:button edit|Button text to edit a book@@BookDetailsComponentEdit: Edit book `,[["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],e,[4,"ngFor","ngForOf"],t,[4,"ngIf"],n,["alt",s,3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],l,[4,"bmLoggedinOnly"],["role","doc-subtitle"],B,["alt",s,3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],d,[1,"button",3,"routerLink"],k]},template:function(t,n){1&t&&(o.YNc(0,x,24,9,"div",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,n.book$))},dependencies:[_.sg,_.O5,c.rH,T,m,_.Ov,_.uU,O]});class S{}function G(e,t){if(1&e&&(o.TgZ(0,"li"),o._UZ(1,"bm-book-list-item",5),o.qZA()),2&e){const n=t.$implicit;o.xp6(1),o.Q6J("book",n)}}function J(e,t){1&e&&(o.TgZ(0,"li"),o.SDv(1,6),o.qZA())}function Y(e,t){if(1&e&&(o.TgZ(0,"ul",2),o.YNc(1,G,2,1,"li",3),o.YNc(2,J,2,0,"li",4),o.qZA()),2&e){const n=t.ngIf;o.xp6(1),o.Q6J("ngForOf",n),o.xp6(1),o.Q6J("ngIf",!n.length)}}S.\u0275fac=function(t){return new(t||S)},S.\u0275cmp=o.Xpm({type:S,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:function(){let e,t;return e=$localize`:cover alt text|Alternative text when no cover is defined@@BookListItemComponentAltCover:Cover`,t=$localize`:book text before ISBN|Text for ISBN right before the number@@BookListItemComponentIsbn:ISBN`,[["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt",e,3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],t,["alt",e,3,"src"],["role","doc-subtitle"]]},template:function(t,n){1&t&&o.YNc(0,X,12,8,"a",0),2&t&&o.Q6J("ngIf",n.book)},dependencies:[_.sg,_.O5,c.rH,O]});class g{constructor(t){this.service=t,this.books$=this.service.getAll()}}g.\u0275fac=function(t){return new(t||g)(o.Y36(C.T))},g.\u0275cmp=o.Xpm({type:g,selectors:[["bm-book-list"]],decls:4,vars:3,consts:function(){let e,t;return e=$localize`:title books|Title for the books page@@BookListComponentTitle:Books`,t=$localize`:text no books|Text displayed when no books are available@@BookListComponentNoBooks: No books available. `,[e,["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"],t]},template:function(t,n){1&t&&(o.TgZ(0,"h1"),o.SDv(1,0),o.qZA(),o.YNc(2,Y,3,2,"ul",1),o.ALo(3,"async")),2&t&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,1,n.books$)))},dependencies:[_.sg,_.O5,S,_.Ov]});const q=[{path:"",component:g},{path:":isbn",component:p}];class a{}a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[c.Bz.forChild(q),c.Bz]});class u{}u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=o.oAB({type:u}),u.\u0275inj=o.cJS({imports:[_.ez,a]})}}]);