import{a as oe}from"./chunk-HEPW5PNS.js";import{$ as p,A as j,B as H,Ba as K,Ca as $,E as U,F as M,G as n,H as d,I as V,K as q,N as m,P as _,R as r,S as i,T,U as A,V as N,W as J,X as a,Y as D,Z as c,aa as S,ba as C,d as X,da as Q,ea as O,fa as B,ga as W,m as F,na as E,oa as k,pa as P,qa as Y,r as b,ra as Z,v as I,w as v,wa as ee,x as L,y as z,ya as te,za as h}from"./chunk-CSJASQYE.js";var ie=(()=>{class e{confirmText;confirm=new U;onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=L({type:e,selectors:[["","bmConfirm",""]],hostBindings:function(o,s){o&1&&D("click",function(){return s.onClick()})},inputs:{confirmText:[0,"bmConfirm","confirmText"]},outputs:{confirm:"confirm"}})}return e})();var ne=(()=>{class e{template;viewContainer;authService;destroy$=new X;constructor(t,o,s){this.template=t,this.viewContainer=o,this.authService=s,this.authService.isAuthenticated$.pipe(F(this.destroy$)).subscribe(f=>{f?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}ngOnDestroy(){this.destroy$.next()}static \u0275fac=function(o){return new(o||e)(d(V),d(q),d(oe))};static \u0275dir=L({type:e,selectors:[["","bmLoggedinOnly",""]]})}return e})();var x=(()=>{class e{transform(t){return t?`${t.substring(0,3)}-${t.substring(3)}`:""}static \u0275fac=function(o){return new(o||e)};static \u0275pipe=z({name:"isbn",type:e,pure:!0})}return e})();var Oe=e=>["/admin/edit",e];function ue(e,l){if(e&1&&(r(0,"p",16),p(1),i()),e&2){let t=c().ngIf;n(),S(t.subtitle)}}function Se(e,l){if(e&1&&(r(0,"li"),p(1),i()),e&2){let t=l.$implicit;n(),S(t)}}function Ce(e,l){if(e&1&&(r(0,"div")(1,"h2"),a(2,4),i(),p(3),O(4,"date"),i()),e&2){let t=c().ngIf;n(3),C(" ",W(4,1,t.published,"longDate")," ")}}function Be(e,l){if(e&1&&T(0,"img",17),e&2){let t=c().ngIf;_("src",t.thumbnailUrl,M)}}function ge(e,l){if(e&1){let t=J();A(0),r(1,"button",18),D("confirm",function(){j(t);let s=c().ngIf,f=c();return H(f.removeBook(s.isbn))}),a(2,5),i(),r(3,"a",19),a(4,6),i(),N()}if(e&2){let t=c().ngIf;n(3),_("routerLink",Q(1,Oe,t.isbn))}}function Ie(e,l){if(e&1&&(r(0,"div",8)(1,"h1"),p(2),i(),m(3,ue,2,1,"p",9),r(4,"div",10)(5,"div")(6,"h2"),a(7,0),i(),r(8,"ul"),m(9,Se,2,1,"li",11),i()(),r(10,"div")(11,"h2"),a(12,1),i(),p(13),O(14,"isbn"),i(),m(15,Ce,5,4,"div",12),i(),r(16,"h2"),a(17,2),i(),r(18,"p"),p(19),i(),m(20,Be,1,1,"img",13),r(21,"a",14),a(22,3),i(),m(23,ge,5,3,"ng-container",15),i()),e&2){let t=l.ngIf;n(2),S(t.title),n(),_("ngIf",t.subtitle),n(6),_("ngForOf",t.authors),n(4),C(" ",B(14,7,t.isbn)," "),n(2),_("ngIf",t.published),n(4),S(t.description),n(),_("ngIf",t.thumbnailUrl)}}var _e=(()=>{class e{service;route;router;book$;constructor(t,o,s){this.service=t,this.route=o,this.router=s;let f=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(f)}removeBook(t){this.service.remove(t).subscribe(()=>{this.router.navigateByUrl("/books")})}static \u0275fac=function(o){return new(o||e)(d($),d(ee),d(te))};static \u0275cmp=I({type:e,selectors:[["bm-book-details"]],decls:2,vars:3,consts:()=>{let t;t=$localize`:cover alt text|Alternative text when no cover is defined@@BookDetailsComponentAltCover:Cover`;let o;o=$localize`:headline authors|Headline for the authors@@BookDetailsComponentAuthors:Authors`;let s;s=$localize`:headline ISBN|Headline for the ISBN@@BookDetailsComponentIsbn:ISBN`;let f;f=$localize`:headline description|Headline for the description@@BookDetailsComponentDescription:Description`;let y;y=$localize`:link back|Link for navigating back to the books list@@BookDetailsComponentBackToList:Back to list`;let R;R=$localize`:headline published|Headline for the published date@@BookDetailsComponentPublished:Published`;let w;w=$localize`:button remove|Button text to remove a book@@BookDetailsComponentRemove: Remove book `;let G;return G=$localize`:button edit|Button text to edit a book@@BookDetailsComponentEdit: Edit book `,[o,s,f,y,R,w,G,["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt",t,3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["role","doc-subtitle"],["alt",t,3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]]},template:function(o,s){o&1&&(m(0,Ie,24,9,"div",7),O(1,"async")),o&2&&_("ngIf",B(1,1,s.book$))},dependencies:[E,k,h,ie,ne,P,Y,x]})}return e})();function Te(e,l){if(e&1&&T(0,"img",7),e&2){let t=c(2);_("src",t.book.thumbnailUrl,M)}}function Ee(e,l){if(e&1&&(r(0,"p",8),p(1),i()),e&2){let t=c(2);n(),C(" ",t.book.subtitle," ")}}function ke(e,l){if(e&1&&(r(0,"li"),p(1),i()),e&2){let t=l.$implicit;n(),C(" ",t," ")}}function be(e,l){if(e&1&&(r(0,"a",2),m(1,Te,1,1,"img",3),r(2,"h2"),p(3),i(),m(4,Ee,2,1,"p",4),r(5,"ul",5),m(6,ke,2,1,"li",6),i(),r(7,"div"),A(8),a(9,0),N(),p(10),O(11,"isbn"),i()()),e&2){let t=c();_("routerLink",t.book.isbn),n(),_("ngIf",t.book.thumbnailUrl),n(2),S(t.book.title),n(),_("ngIf",t.book.subtitle),n(2),_("ngForOf",t.book.authors),n(4),C(" ",B(11,6,t.book.isbn),"")}}var le=(()=>{class e{book;static \u0275fac=function(o){return new(o||e)};static \u0275cmp=I({type:e,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:()=>{let t;t=$localize`:cover alt text|Alternative text when no cover is defined@@BookListItemComponentAltCover:Cover`;let o;return o=$localize`:book text before ISBN|Text for ISBN right before the number@@BookListItemComponentIsbn:ISBN`,[o,["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt",t,3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],["alt",t,3,"src"],["role","doc-subtitle"]]},template:function(o,s){o&1&&m(0,be,12,8,"a",1),o&2&&_("ngIf",s.book)},dependencies:[E,k,h,x]})}return e})();function Le(e,l){if(e&1&&(r(0,"li"),T(1,"bm-book-list-item",6),i()),e&2){let t=l.$implicit;n(),_("book",t)}}function Me(e,l){e&1&&(r(0,"li"),a(1,1),i())}function Ae(e,l){if(e&1&&(r(0,"ul",3),m(1,Le,2,1,"li",4)(2,Me,2,0,"li",5),i()),e&2){let t=l.ngIf;n(),_("ngForOf",t),n(),_("ngIf",!t.length)}}var me=(()=>{class e{service;books$;constructor(t){this.service=t,this.books$=this.service.getAll()}static \u0275fac=function(o){return new(o||e)(d($))};static \u0275cmp=I({type:e,selectors:[["bm-book-list"]],decls:4,vars:3,consts:()=>{let t;t=$localize`:title books|Title for the books page@@BookListComponentTitle:Books`;let o;return o=$localize`:text no books|Text displayed when no books are available@@BookListComponentNoBooks: No books available. `,[t,o,["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"]]},template:function(o,s){o&1&&(r(0,"h1"),a(1,0),i(),m(2,Ae,3,2,"ul",2),O(3,"async")),o&2&&(n(2),_("ngIf",B(3,1,s.books$)))},dependencies:[E,k,le,P]})}return e})();var Ne=[{path:"",component:me},{path:":isbn",component:_e}],ae=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=v({type:e});static \u0275inj=b({imports:[K.forChild(Ne),K]})}return e})();var nt=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=v({type:e});static \u0275inj=b({imports:[Z,ae]})}return e})();export{nt as BooksModule};
