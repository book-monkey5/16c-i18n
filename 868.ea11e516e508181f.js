"use strict";(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[868],{9868:(F,B,_)=>{_.r(B),_.d(B,{BooksModule:()=>p});var s=_(6895),r=_(6158),o=_(8256),C=_(6384);class a{constructor(){this.confirm=new o.vpe}onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}static#o=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275dir=o.lG2({type:a,selectors:[["","bmConfirm",""]],hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i.onClick()})},inputs:{confirmText:["bmConfirm","confirmText"]},outputs:{confirm:"confirm"}})}var A=_(7579),E=_(4482),L=_(5403),b=_(8421),h=_(5032),M=_(8338);class T{constructor(e,t,i){this.template=e,this.viewContainer=t,this.authService=i,this.destroy$=new A.x,this.authService.isAuthenticated$.pipe(function N(n){return(0,E.e)((e,t)=>{(0,b.Xf)(n).subscribe((0,L.x)(t,()=>t.complete(),h.Z)),!t.closed&&e.subscribe(t)})}(this.destroy$)).subscribe(l=>{l?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}ngOnDestroy(){this.destroy$.next()}static#o=this.\u0275fac=function(t){return new(t||T)(o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(M.e))};static#t=this.\u0275dir=o.lG2({type:T,selectors:[["","bmLoggedinOnly",""]]})}class O{transform(e){return e?`${e.substring(0,3)}-${e.substring(3)}`:""}static#o=this.\u0275fac=function(t){return new(t||O)};static#t=this.\u0275pipe=o.Yjl({name:"isbn",type:O,pure:!0})}function v(n,e){if(1&n&&(o.TgZ(0,"p",13),o._uU(1),o.qZA()),2&n){const t=o.oxw().ngIf;o.xp6(1),o.Oqu(t.subtitle)}}function D(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Oqu(t)}}function P(n,e){if(1&n&&(o.TgZ(0,"div")(1,"h2"),o.SDv(2,14),o.qZA(),o._uU(3),o.ALo(4,"date"),o.qZA()),2&n){const t=o.oxw().ngIf;o.xp6(3),o.hij(" ",o.xi3(4,1,t.published,"longDate")," ")}}function K(n,e){if(1&n&&o._UZ(0,"img",15),2&n){const t=o.oxw().ngIf;o.Q6J("src",t.thumbnailUrl,o.LSH)}}const $=function(n){return["/admin/edit",n]};function x(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"button",16),o.NdJ("confirm",function(){o.CHM(t);const l=o.oxw().ngIf,f=o.oxw();return o.KtG(f.removeBook(l.isbn))}),o.SDv(2,17),o.qZA(),o.TgZ(3,"a",18),o.SDv(4,19),o.qZA(),o.BQk()}if(2&n){const t=o.oxw().ngIf;o.xp6(3),o.Q6J("routerLink",o.VKq(1,$,t.isbn))}}function R(n,e){if(1&n&&(o.TgZ(0,"div",1)(1,"h1"),o._uU(2),o.qZA(),o.YNc(3,v,2,1,"p",2),o.TgZ(4,"div",3)(5,"div")(6,"h2"),o.SDv(7,4),o.qZA(),o.TgZ(8,"ul"),o.YNc(9,D,2,1,"li",5),o.qZA()(),o.TgZ(10,"div")(11,"h2"),o.SDv(12,6),o.qZA(),o._uU(13),o.ALo(14,"isbn"),o.qZA(),o.YNc(15,P,5,4,"div",7),o.qZA(),o.TgZ(16,"h2"),o.SDv(17,8),o.qZA(),o.TgZ(18,"p"),o._uU(19),o.qZA(),o.YNc(20,K,1,1,"img",9),o.TgZ(21,"a",10),o.SDv(22,11),o.qZA(),o.YNc(23,x,5,3,"ng-container",12),o.qZA()),2&n){const t=e.ngIf;o.xp6(2),o.Oqu(t.title),o.xp6(1),o.Q6J("ngIf",t.subtitle),o.xp6(6),o.Q6J("ngForOf",t.authors),o.xp6(4),o.hij(" ",o.lcZ(14,7,t.isbn)," "),o.xp6(2),o.Q6J("ngIf",t.published),o.xp6(4),o.Oqu(t.description),o.xp6(1),o.Q6J("ngIf",t.thumbnailUrl)}}class u{constructor(e,t,i){this.service=e,this.route=t,this.router=i;const l=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(l)}removeBook(e){this.service.remove(e).subscribe(()=>{this.router.navigateByUrl("/books")})}static#o=this.\u0275fac=function(t){return new(t||u)(o.Y36(C.T),o.Y36(r.gz),o.Y36(r.F0))};static#t=this.\u0275cmp=o.Xpm({type:u,selectors:[["bm-book-details"]],decls:2,vars:3,consts:function(){let e,t,i,l,f,d,I,k;return e=$localize`:headline authors|Headline for the authors@@BookDetailsComponentAuthors:Authors`,t=$localize`:headline ISBN|Headline for the ISBN@@BookDetailsComponentIsbn:ISBN`,i=$localize`:headline description|Headline for the description@@BookDetailsComponentDescription:Description`,l=$localize`:cover alt text|Alternative text when no cover is defined@@BookDetailsComponentAltCover:Cover`,f=$localize`:link back|Link for navigating back to the books list@@BookDetailsComponentBackToList:Back to list`,d=$localize`:headline published|Headline for the published date@@BookDetailsComponentPublished:Published`,I=$localize`:button remove|Button text to remove a book@@BookDetailsComponentRemove: Remove book `,k=$localize`:button edit|Button text to edit a book@@BookDetailsComponentEdit: Edit book `,[["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],e,[4,"ngFor","ngForOf"],t,[4,"ngIf"],i,["alt",l,3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],f,[4,"bmLoggedinOnly"],["role","doc-subtitle"],d,["alt",l,3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],I,[1,"button",3,"routerLink"],k]},template:function(t,i){1&t&&(o.YNc(0,R,24,9,"div",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,i.book$))},dependencies:[s.sg,s.O5,r.rH,a,T,s.Ov,s.uU,O]})}function Z(n,e){if(1&n&&o._UZ(0,"img",7),2&n){const t=o.oxw(2);o.Q6J("src",t.book.thumbnailUrl,o.LSH)}}function y(n,e){if(1&n&&(o.TgZ(0,"p",8),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij(" ",t.book.subtitle," ")}}function X(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.hij(" ",t," ")}}function G(n,e){if(1&n&&(o.TgZ(0,"a",1),o.YNc(1,Z,1,1,"img",2),o.TgZ(2,"h2"),o._uU(3),o.qZA(),o.YNc(4,y,2,1,"p",3),o.TgZ(5,"ul",4),o.YNc(6,X,2,1,"li",5),o.qZA(),o.TgZ(7,"div"),o.ynx(8),o.SDv(9,6),o.BQk(),o._uU(10),o.ALo(11,"isbn"),o.qZA()()),2&n){const t=o.oxw();o.Q6J("routerLink",t.book.isbn),o.xp6(1),o.Q6J("ngIf",t.book.thumbnailUrl),o.xp6(2),o.Oqu(t.book.title),o.xp6(1),o.Q6J("ngIf",t.book.subtitle),o.xp6(2),o.Q6J("ngForOf",t.book.authors),o.xp6(4),o.hij(" ",o.lcZ(11,6,t.book.isbn),"")}}class S{static#o=this.\u0275fac=function(t){return new(t||S)};static#t=this.\u0275cmp=o.Xpm({type:S,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:function(){let e,t;return e=$localize`:cover alt text|Alternative text when no cover is defined@@BookListItemComponentAltCover:Cover`,t=$localize`:book text before ISBN|Text for ISBN right before the number@@BookListItemComponentIsbn:ISBN`,[["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt",e,3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],t,["alt",e,3,"src"],["role","doc-subtitle"]]},template:function(t,i){1&t&&o.YNc(0,G,12,8,"a",0),2&t&&o.Q6J("ngIf",i.book)},dependencies:[s.sg,s.O5,r.rH,O]})}function J(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"bm-book-list-item",5),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("book",t)}}function Y(n,e){1&n&&(o.TgZ(0,"li"),o.SDv(1,6),o.qZA())}function q(n,e){if(1&n&&(o.TgZ(0,"ul",2),o.YNc(1,J,2,1,"li",3),o.YNc(2,Y,2,0,"li",4),o.qZA()),2&n){const t=e.ngIf;o.xp6(1),o.Q6J("ngForOf",t),o.xp6(1),o.Q6J("ngIf",!t.length)}}class m{constructor(e){this.service=e,this.books$=this.service.getAll()}static#o=this.\u0275fac=function(t){return new(t||m)(o.Y36(C.T))};static#t=this.\u0275cmp=o.Xpm({type:m,selectors:[["bm-book-list"]],decls:4,vars:3,consts:function(){let e,t;return e=$localize`:title books|Title for the books page@@BookListComponentTitle:Books`,t=$localize`:text no books|Text displayed when no books are available@@BookListComponentNoBooks: No books available. `,[e,["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"],t]},template:function(t,i){1&t&&(o.TgZ(0,"h1"),o.SDv(1,0),o.qZA(),o.YNc(2,q,3,2,"ul",1),o.ALo(3,"async")),2&t&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,1,i.books$)))},dependencies:[s.sg,s.O5,S,s.Ov]})}const w=[{path:"",component:m},{path:":isbn",component:u}];class g{static#o=this.\u0275fac=function(t){return new(t||g)};static#t=this.\u0275mod=o.oAB({type:g});static#e=this.\u0275inj=o.cJS({imports:[r.Bz.forChild(w),r.Bz]})}class p{static#o=this.\u0275fac=function(t){return new(t||p)};static#t=this.\u0275mod=o.oAB({type:p});static#e=this.\u0275inj=o.cJS({imports:[s.ez,g]})}}}]);