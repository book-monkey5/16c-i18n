import{a as ie}from"./chunk-HEE5OKD5.js";import{$ as C,A as H,B as U,E as V,F as h,G as s,H as f,I as q,K as J,M as m,O as a,Q as _,R as r,S as E,T as A,U as N,V as Q,W as p,X as D,Y as d,_ as c,aa as B,ca as W,d as F,da as O,ea as T,fa as Y,ka as k,la as b,m as z,ma as P,na as Z,oa as ee,r as L,ta as te,v as g,va as oe,w as v,wa as $,x as M,y as j,ya as y,za as x}from"./chunk-NQYGKSYE.js";var ne=(()=>{let e=class e{constructor(){this.confirm=new V}onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=M({type:e,selectors:[["","bmConfirm",""]],hostBindings:function(o,l){o&1&&D("click",function(){return l.onClick()})},inputs:{confirmText:[0,"bmConfirm","confirmText"]},outputs:{confirm:"confirm"}});let t=e;return t})();var re=(()=>{let e=class e{constructor(n,o,l){this.template=n,this.viewContainer=o,this.authService=l,this.destroy$=new F,this.authService.isAuthenticated$.pipe(z(this.destroy$)).subscribe(S=>{S?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}ngOnDestroy(){this.destroy$.next()}};e.\u0275fac=function(o){return new(o||e)(f(q),f(J),f(ie))},e.\u0275dir=M({type:e,selectors:[["","bmLoggedinOnly",""]]});let t=e;return t})();var K=(()=>{let e=class e{transform(n){return n?`${n.substring(0,3)}-${n.substring(3)}`:""}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=j({name:"isbn",type:e,pure:!0});let t=e;return t})();var Se=t=>["/admin/edit",t];function ue(t,e){if(t&1&&(_(0,"p",16),c(1),r()),t&2){let i=d().ngIf;s(),C(i.subtitle)}}function Ce(t,e){if(t&1&&(_(0,"li"),c(1),r()),t&2){let i=e.$implicit;s(),C(i)}}function Be(t,e){if(t&1&&(_(0,"div")(1,"h2"),p(2,4),r(),c(3),O(4,"date"),r()),t&2){let i=d().ngIf;s(3),B(" ",Y(4,1,i.published,"longDate")," ")}}function Te(t,e){if(t&1&&E(0,"img",17),t&2){let i=d().ngIf;a("src",i.thumbnailUrl,h)}}function Ie(t,e){if(t&1){let i=Q();A(0),_(1,"button",18),D("confirm",function(){H(i);let o=d().ngIf,l=d();return U(l.removeBook(o.isbn))}),p(2,5),r(),_(3,"a",19),p(4,6),r(),N()}if(t&2){let i=d().ngIf;s(3),a("routerLink",W(1,Se,i.isbn))}}function ge(t,e){if(t&1&&(_(0,"div",8)(1,"h1"),c(2),r(),m(3,ue,2,1,"p",9),_(4,"div",10)(5,"div")(6,"h2"),p(7,0),r(),_(8,"ul"),m(9,Ce,2,1,"li",11),r()(),_(10,"div")(11,"h2"),p(12,1),r(),c(13),O(14,"isbn"),r(),m(15,Be,5,4,"div",12),r(),_(16,"h2"),p(17,2),r(),_(18,"p"),c(19),r(),m(20,Te,1,1,"img",13),_(21,"a",14),p(22,3),r(),m(23,Ie,5,3,"ng-container",15),r()),t&2){let i=e.ngIf;s(2),C(i.title),s(),a("ngIf",i.subtitle),s(6),a("ngForOf",i.authors),s(4),B(" ",T(14,7,i.isbn)," "),s(2),a("ngIf",i.published),s(4),C(i.description),s(),a("ngIf",i.thumbnailUrl)}}var le=(()=>{let e=class e{constructor(n,o,l){this.service=n,this.route=o,this.router=l;let S=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(S)}removeBook(n){this.service.remove(n).subscribe(()=>{this.router.navigateByUrl("/books")})}};e.\u0275fac=function(o){return new(o||e)(f(x),f(te),f(oe))},e.\u0275cmp=g({type:e,selectors:[["bm-book-details"]],decls:2,vars:3,consts:()=>{let n;n=$localize`:cover alt text|Alternative text when no cover is defined@@BookDetailsComponentAltCover:Cover`;let o;o=$localize`:headline authors|Headline for the authors@@BookDetailsComponentAuthors:Authors`;let l;l=$localize`:headline ISBN|Headline for the ISBN@@BookDetailsComponentIsbn:ISBN`;let S;S=$localize`:headline description|Headline for the description@@BookDetailsComponentDescription:Description`;let R;R=$localize`:link back|Link for navigating back to the books list@@BookDetailsComponentBackToList:Back to list`;let w;w=$localize`:headline published|Headline for the published date@@BookDetailsComponentPublished:Published`;let G;G=$localize`:button remove|Button text to remove a book@@BookDetailsComponentRemove: Remove book `;let X;return X=$localize`:button edit|Button text to edit a book@@BookDetailsComponentEdit: Edit book `,[o,l,S,R,w,G,X,["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt",n,3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["role","doc-subtitle"],["alt",n,3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]]},template:function(o,l){o&1&&(m(0,ge,24,9,"div",7),O(1,"async")),o&2&&a("ngIf",T(1,1,l.book$))},dependencies:[k,b,$,ne,re,P,Z,K]});let t=e;return t})();function Ee(t,e){if(t&1&&E(0,"img",7),t&2){let i=d(2);a("src",i.book.thumbnailUrl,h)}}function ke(t,e){if(t&1&&(_(0,"p",8),c(1),r()),t&2){let i=d(2);s(),B(" ",i.book.subtitle," ")}}function be(t,e){if(t&1&&(_(0,"li"),c(1),r()),t&2){let i=e.$implicit;s(),B(" ",i," ")}}function Le(t,e){if(t&1&&(_(0,"a",2),m(1,Ee,1,1,"img",3),_(2,"h2"),c(3),r(),m(4,ke,2,1,"p",4),_(5,"ul",5),m(6,be,2,1,"li",6),r(),_(7,"div"),A(8),p(9,0),N(),c(10),O(11,"isbn"),r()()),t&2){let i=d();a("routerLink",i.book.isbn),s(),a("ngIf",i.book.thumbnailUrl),s(2),C(i.book.title),s(),a("ngIf",i.book.subtitle),s(2),a("ngForOf",i.book.authors),s(4),B(" ",T(11,6,i.book.isbn),"")}}var ae=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=g({type:e,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:()=>{let n;n=$localize`:cover alt text|Alternative text when no cover is defined@@BookListItemComponentAltCover:Cover`;let o;return o=$localize`:book text before ISBN|Text for ISBN right before the number@@BookListItemComponentIsbn:ISBN`,[o,["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt",n,3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],["alt",n,3,"src"],["role","doc-subtitle"]]},template:function(o,l){o&1&&m(0,Le,12,8,"a",1),o&2&&a("ngIf",l.book)},dependencies:[k,b,$,K]});let t=e;return t})();function Me(t,e){if(t&1&&(_(0,"li"),E(1,"bm-book-list-item",6),r()),t&2){let i=e.$implicit;s(),a("book",i)}}function he(t,e){t&1&&(_(0,"li"),p(1,1),r())}function Ae(t,e){if(t&1&&(_(0,"ul",3),m(1,Me,2,1,"li",4)(2,he,2,0,"li",5),r()),t&2){let i=e.ngIf;s(),a("ngForOf",i),s(),a("ngIf",!i.length)}}var me=(()=>{let e=class e{constructor(n){this.service=n,this.books$=this.service.getAll()}};e.\u0275fac=function(o){return new(o||e)(f(x))},e.\u0275cmp=g({type:e,selectors:[["bm-book-list"]],decls:4,vars:3,consts:()=>{let n;n=$localize`:title books|Title for the books page@@BookListComponentTitle:Books`;let o;return o=$localize`:text no books|Text displayed when no books are available@@BookListComponentNoBooks: No books available. `,[n,o,["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"]]},template:function(o,l){o&1&&(_(0,"h1"),p(1,0),r(),m(2,Ae,3,2,"ul",2),O(3,"async")),o&2&&(s(2),a("ngIf",T(3,1,l.books$)))},dependencies:[k,b,ae,P]});let t=e;return t})();var Ne=[{path:"",component:me},{path:":isbn",component:le}],pe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=v({type:e}),e.\u0275inj=L({imports:[y.forChild(Ne),y]});let t=e;return t})();var rt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=v({type:e}),e.\u0275inj=L({imports:[ee,pe]});let t=e;return t})();export{rt as BooksModule};
