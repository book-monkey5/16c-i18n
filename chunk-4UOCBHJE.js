import{a as le}from"./chunk-F2P73Z3V.js";import{$ as a,A as J,B as Q,Ba as F,Ca as x,D as W,F as A,G as n,H as c,I as Y,K as Z,N as _,P as s,R as r,S as i,T as g,U as N,V as D,W as ee,X as m,Y as P,Z as p,aa as S,ba as u,d as U,da as te,ea as d,fa as C,ga as oe,m as V,na as I,oa as T,pa as h,qa as ie,r as v,ra as ne,v as k,w as L,wa as re,x as M,y as q,ya as se,za as $}from"./chunk-OCGAZCIF.js";var K=class t{confirmText;confirm=new W;onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275dir=M({type:t,selectors:[["","bmConfirm",""]],hostBindings:function(e,l){e&1&&P("click",function(){return l.onClick()})},inputs:{confirmText:[0,"bmConfirm","confirmText"]},outputs:{confirm:"confirm"}})};var R=class t{constructor(o,e,l){this.template=o;this.viewContainer=e;this.authService=l;this.authService.isAuthenticated$.pipe(V(this.destroy$)).subscribe(f=>{f?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}destroy$=new U;ngOnDestroy(){this.destroy$.next()}static \u0275fac=function(e){return new(e||t)(c(Y),c(Z),c(le))};static \u0275dir=M({type:t,selectors:[["","bmLoggedinOnly",""]]})};var E=class t{transform(o){return o?`${o.substring(0,3)}-${o.substring(3)}`:""}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=q({name:"isbn",type:t,pure:!0})};var Se=t=>["/admin/edit",t];function ue(t,o){if(t&1&&(r(0,"p",16),a(1),i()),t&2){let e=p().ngIf;n(),S(e.subtitle)}}function Ce(t,o){if(t&1&&(r(0,"li"),a(1),i()),t&2){let e=o.$implicit;n(),S(e)}}function Be(t,o){if(t&1&&(r(0,"div")(1,"h2"),m(2,4),i(),a(3),d(4,"date"),i()),t&2){let e=p().ngIf;n(3),u(" ",oe(4,1,e.published,"longDate")," ")}}function ke(t,o){if(t&1&&g(0,"img",17),t&2){let e=p().ngIf;s("src",e.thumbnailUrl,A)}}function ge(t,o){if(t&1){let e=ee();N(0),r(1,"button",18),P("confirm",function(){J(e);let f=p().ngIf,b=p();return Q(b.removeBook(f.isbn))}),m(2,5),i(),r(3,"a",19),m(4,6),i(),D()}if(t&2){let e=p().ngIf;n(3),s("routerLink",te(1,Se,e.isbn))}}function Ie(t,o){if(t&1&&(r(0,"div",8)(1,"h1"),a(2),i(),_(3,ue,2,1,"p",9),r(4,"div",10)(5,"div")(6,"h2"),m(7,0),i(),r(8,"ul"),_(9,Ce,2,1,"li",11),i()(),r(10,"div")(11,"h2"),m(12,1),i(),a(13),d(14,"isbn"),i(),_(15,Be,5,4,"div",12),i(),r(16,"h2"),m(17,2),i(),r(18,"p"),a(19),i(),_(20,ke,1,1,"img",13),r(21,"a",14),m(22,3),i(),_(23,ge,5,3,"ng-container",15),i()),t&2){let e=o.ngIf;n(2),S(e.title),n(),s("ngIf",e.subtitle),n(6),s("ngForOf",e.authors),n(4),u(" ",C(14,7,e.isbn)," "),n(2),s("ngIf",e.published),n(4),S(e.description),n(),s("ngIf",e.thumbnailUrl)}}var y=class t{constructor(o,e,l){this.service=o;this.route=e;this.router=l;let f=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(f)}book$;removeBook(o){this.service.remove(o).subscribe(()=>{this.router.navigateByUrl("/books")})}static \u0275fac=function(e){return new(e||t)(c(x),c(re),c(se))};static \u0275cmp=k({type:t,selectors:[["bm-book-details"]],decls:2,vars:3,consts:()=>{let o;o=$localize`:cover alt text|Alternative text when no cover is defined@@BookDetailsComponentAltCover:Cover`;let e;e=$localize`:headline authors|Headline for the authors@@BookDetailsComponentAuthors:Authors`;let l;l=$localize`:headline ISBN|Headline for the ISBN@@BookDetailsComponentIsbn:ISBN`;let f;f=$localize`:headline description|Headline for the description@@BookDetailsComponentDescription:Description`;let b;b=$localize`:link back|Link for navigating back to the books list@@BookDetailsComponentBackToList:Back to list`;let z;z=$localize`:headline published|Headline for the published date@@BookDetailsComponentPublished:Published`;let j;j=$localize`:button remove|Button text to remove a book@@BookDetailsComponentRemove: Remove book `;let H;return H=$localize`:button edit|Button text to edit a book@@BookDetailsComponentEdit: Edit book `,[e,l,f,b,z,j,H,["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt",o,3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["role","doc-subtitle"],["alt",o,3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]]},template:function(e,l){e&1&&(_(0,Ie,24,9,"div",7),d(1,"async")),e&2&&s("ngIf",C(1,1,l.book$))},dependencies:[I,T,$,K,R,h,ie,E]})};function Te(t,o){if(t&1&&g(0,"img",7),t&2){let e=p(2);s("src",e.book.thumbnailUrl,A)}}function Ee(t,o){if(t&1&&(r(0,"p",8),a(1),i()),t&2){let e=p(2);n(),u(" ",e.book.subtitle," ")}}function be(t,o){if(t&1&&(r(0,"li"),a(1),i()),t&2){let e=o.$implicit;n(),u(" ",e," ")}}function ve(t,o){if(t&1&&(r(0,"a",2),_(1,Te,1,1,"img",3),r(2,"h2"),a(3),i(),_(4,Ee,2,1,"p",4),r(5,"ul",5),_(6,be,2,1,"li",6),i(),r(7,"div"),N(8),m(9,0),D(),a(10),d(11,"isbn"),i()()),t&2){let e=p();s("routerLink",e.book.isbn),n(),s("ngIf",e.book.thumbnailUrl),n(2),S(e.book.title),n(),s("ngIf",e.book.subtitle),n(2),s("ngForOf",e.book.authors),n(4),u(" ",C(11,6,e.book.isbn),"")}}var w=class t{book;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:()=>{let o;o=$localize`:cover alt text|Alternative text when no cover is defined@@BookListItemComponentAltCover:Cover`;let e;return e=$localize`:book text before ISBN|Text for ISBN right before the number@@BookListItemComponentIsbn:ISBN`,[e,["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt",o,3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],["alt",o,3,"src"],["role","doc-subtitle"]]},template:function(e,l){e&1&&_(0,ve,12,8,"a",1),e&2&&s("ngIf",l.book)},dependencies:[I,T,$,E]})};function Me(t,o){if(t&1&&(r(0,"li"),g(1,"bm-book-list-item",6),i()),t&2){let e=o.$implicit;n(),s("book",e)}}function Ae(t,o){t&1&&(r(0,"li"),m(1,1),i())}function Ne(t,o){if(t&1&&(r(0,"ul",3),_(1,Me,2,1,"li",4)(2,Ae,2,0,"li",5),i()),t&2){let e=o.ngIf;n(),s("ngForOf",e),n(),s("ngIf",!e.length)}}var G=class t{constructor(o){this.service=o;this.books$=this.service.getAll()}books$;static \u0275fac=function(e){return new(e||t)(c(x))};static \u0275cmp=k({type:t,selectors:[["bm-book-list"]],decls:4,vars:3,consts:()=>{let o;o=$localize`:title books|Title for the books page@@BookListComponentTitle:Books`;let e;return e=$localize`:text no books|Text displayed when no books are available@@BookListComponentNoBooks: No books available. `,[o,e,["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"]]},template:function(e,l){e&1&&(r(0,"h1"),m(1,0),i(),_(2,Ne,3,2,"ul",2),d(3,"async")),e&2&&(n(2),s("ngIf",C(3,1,l.books$)))},dependencies:[I,T,w,h]})};var De=[{path:"",component:G},{path:":isbn",component:y}],X=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=L({type:t});static \u0275inj=v({imports:[F.forChild(De),F]})};var pe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=L({type:t});static \u0275inj=v({imports:[ne,X]})};export{pe as BooksModule};
