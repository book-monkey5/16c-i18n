import{a as A}from"./chunk-HEE5OKD5.js";import{$ as Q,A as T,B as E,G as p,H as v,M as $,O as g,P as Z,Q as l,R as u,S as k,V as N,W as m,X as _,Y as y,Z as q,_ as h,aa as ee,c as U,ca as te,d as j,da as ne,ea as oe,ha as ie,i as X,j as J,ja as re,k as V,ka as se,l as K,la as R,ma as ae,n as L,pa as le,q as W,qa as ce,r as P,ra as ue,sa as pe,t as Y,u as b,ua as me,v as M,va as fe,w as O,wa as S,xa as de,ya as H,za as ge}from"./chunk-NQYGKSYE.js";var D=":",be="|",Ae="@@",ye="\u241F",_e;function he(e){_e??=new TextEncoder;let t=_e.encode(e),n=new DataView(t.buffer,t.byteOffset,t.byteLength),o=Me(n,t.length,0),i=Me(n,t.length,102072);return o==0&&(i==0||i==1)&&(o=o^319790063,i=i^-1801410264),BigInt.asUintN(32,BigInt(o))<<BigInt(32)|BigInt.asUintN(32,BigInt(i))}function He(e,t=""){let n=he(e);return t&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=he(t)),BigInt.asUintN(63,n).toString()}function Me(e,t,n){let o=2654435769,i=2654435769,r=0,c=t-12;for(;r<=c;r+=12){o+=e.getUint32(r,!0),i+=e.getUint32(r+4,!0),n+=e.getUint32(r+8,!0);let s=Se(o,i,n);o=s[0],i=s[1],n=s[2]}let a=t-r;return n+=t,a>=4?(o+=e.getUint32(r,!0),r+=4,a>=8?(i+=e.getUint32(r,!0),r+=4,a>=9&&(n+=e.getUint8(r++)<<8),a>=10&&(n+=e.getUint8(r++)<<16),a===11&&(n+=e.getUint8(r++)<<24)):(a>=5&&(i+=e.getUint8(r++)),a>=6&&(i+=e.getUint8(r++)<<8),a===7&&(i+=e.getUint8(r++)<<16))):(a>=1&&(o+=e.getUint8(r++)),a>=2&&(o+=e.getUint8(r++)<<8),a===3&&(o+=e.getUint8(r++)<<16)),Se(o,i,n)[2]}function Se(e,t,n){return e-=t,e-=n,e^=n>>>13,t-=n,t-=e,t^=e<<8,n-=e,n-=t,n^=t>>>13,e-=t,e-=n,e^=n>>>12,t-=n,t-=e,t^=e<<16,n-=e,n-=t,n^=t>>>5,e-=t,e-=n,e^=n>>>3,t-=n,t-=e,t^=e<<10,n-=e,n-=t,n^=t>>>15,[e,t,n]}function we(e,t,n,o,i=[]){let r={},c={},a={},s=De(e[0],e.raw[0]),d=[s.text],B=[],x=s.text;for(let f=1;f<e.length;f++){let{messagePart:z,placeholderName:C=Fe(f),associatedMessageId:G}=Be(e[f],e.raw[f]);x+=`{$${C}}${z}`,t!==void 0&&(r[C]=t[f-1],c[C]=i[f-1]),B.push(C),G!==void 0&&(a[C]=G),d.push(z)}let F=s.customId||He(x,s.meaning||""),Le=s.legacyIds?s.legacyIds.filter(f=>f!==F):[];return{id:F,legacyIds:Le,substitutions:r,substitutionLocations:c,text:x,customId:s.customId,meaning:s.meaning||"",description:s.description||"",messageParts:d,messagePartLocations:o,placeholderNames:B,associatedMessageIds:a,location:n}}function De(e,t){let{text:n,block:o}=Ce(e,t);if(o===void 0)return{text:n};{let[i,...r]=o.split(ye),[c,a]=i.split(Ae,2),[s,d]=c.split(be,2);return d===void 0&&(d=s,s=void 0),d===""&&(d=void 0),{text:n,meaning:s,description:d,customId:a,legacyIds:r}}}function Be(e,t){let{text:n,block:o}=Ce(e,t);if(o===void 0)return{messagePart:n};{let[i,r]=o.split(Ae);return{messagePart:n,placeholderName:i,associatedMessageId:r}}}function Ce(e,t){if(t.charAt(0)!==D)return{text:e};{let n=ze(e,t);return{block:e.substring(1,n),text:e.substring(n+1)}}}function Fe(e){return e===1?"PH":`PH_${e-1}`}function ze(e,t){for(let n=1,o=1;n<e.length;n++,o++)if(t[o]==="\\")o++;else if(e[n]===D)return n;throw new Error(`Unterminated $localize metadata block in "${t}".`)}var w=class extends Error{constructor(t){super(`No translation found for ${Te(t)}.`),this.parsedMessage=t,this.type="MissingTranslationError"}};function Ge(e,t,n){let o=we(t,n),i=e[o.id];if(o.legacyIds!==void 0)for(let r=0;r<o.legacyIds.length&&i===void 0;r++)i=e[o.legacyIds[r]];if(i===void 0)throw new w(o);return[i.messageParts,i.placeholderNames.map(r=>{if(o.substitutions.hasOwnProperty(r))return o.substitutions[r];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${Te(o)}.
The translation contains a placeholder with name ${r}, which does not exist in the message.`)})]}function Ue(e){let t=e.split(/{\$([^}]*)}/),n=[t[0]],o=[];for(let r=1;r<t.length-1;r+=2)o.push(t[r]),n.push(`${t[r+1]}`);let i=n.map(r=>r.charAt(0)===D?"\\"+r:r);return{text:e,messageParts:je(n,i),placeholderNames:o}}function je(e,t){return Object.defineProperty(e,"raw",{value:t}),e}function Te(e){let t=e.meaning&&` - "${e.meaning}"`,n=e.legacyIds&&e.legacyIds.length>0?` [${e.legacyIds.map(o=>`"${o}"`).join(", ")}]`:"";return`"${e.id}"${n} ("${e.text}"${t})`}function Ee(e){$localize.translate||($localize.translate=Xe),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(e).forEach(t=>{$localize.TRANSLATIONS[t]=Ue(e[t])})}function Xe(e,t){try{return Ge($localize.TRANSLATIONS,e,t)}catch(n){return console.warn(n.message),[e,t]}}function Je(e){let t=e,n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&o===0?1:5}var $e=["de",[["AM","PM"],void 0,void 0],void 0,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],void 0,void 0],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'um' {0}",void 0],[",",".",";","%","+","-","E","\xB7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","Euro",{ATS:["\xF6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[void 0,"\u0440."],CUC:[void 0,"Cub$"],DEM:["DM"],FKP:[void 0,"Fl\xA3"],GHS:[void 0,"\u20B5"],GNF:[void 0,"F.G."],KMF:[void 0,"FC"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],RWF:[void 0,"F.Rw"],SYP:[],THB:["\u0E3F"],TWD:["NT$"],XXX:[],ZMW:[void 0,"K"]},"ltr",Je];var Ke=e=>["/books",e];function We(e,t){if(e&1&&(l(0,"li")(1,"a",6),h(2),l(3,"p",7),h(4),u()()()),e&2){let n=t.$implicit;p(),g("routerLink",te(3,Ke,n.isbn)),p(),ee(" ",n.title," "),p(2),Q(n.subtitle)}}function Ye(e,t){e&1&&(l(0,"li"),h(1,"No results"),u())}function Ze(e,t){if(e&1&&(l(0,"ul",3),$(1,We,5,5,"li",4)(2,Ye,2,0,"li",5),u()),e&2){let n=t.ngIf;p(),g("ngForOf",n),p(),g("ngIf",!n.length)}}var Ie=(()=>{let t=class t{constructor(o){this.service=o,this.input$=new j,this.isLoading=!1,this.results$=this.input$.pipe(X(i=>i.length>=3),J(500),V(),L(()=>this.isLoading=!0),K(i=>this.service.getAllSearch(i)),L(()=>this.isLoading=!1))}};t.\u0275fac=function(i){return new(i||t)(v(ge))},t.\u0275cmp=M({type:t,selectors:[["bm-search"]],decls:4,vars:5,consts:()=>{let o;return o=$localize`:search input ARIA label|input search@@SearchComponentInput:Search`,[["searchInput",""],["type","search","autocomplete","off","aria-label",o,3,"input"],["class","search-results",4,"ngIf"],[1,"search-results"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],["role","doc-subtitle"]]},template:function(i,r){if(i&1){let c=N();l(0,"input",1,0),_("input",function(){T(c);let s=q(1);return E(r.input$.next(s.value))}),u(),$(2,Ze,3,2,"ul",2),ne(3,"async")}i&2&&(Z("loading",r.isLoading),p(2),g("ngIf",oe(3,3,r.results$)))},dependencies:[se,R,S,ae]});let e=t;return e})();var Pe=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=M({type:t,selectors:[["bm-home"]],decls:7,vars:0,consts:()=>{let o;o=$localize`:title home|Title for the home page@@HomeComponentTitle:Home`;let i;i=$localize`:link books list|Text of the link to the books screen@@HomeComponentBooks: Show book list
`;let r;return r=$localize`:headline search|Headline text above the search input@@HomeComponentSearchHeadline:Search`,[o,i,r,["routerLink","/books",1,"button","red"]]},template:function(i,r){i&1&&(l(0,"h1"),m(1,0),u(),l(2,"a",3),m(3,1),u(),l(4,"h2"),m(5,2),u(),k(6,"bm-search"))},dependencies:[S,Ie]});let e=t;return e})();var Oe=()=>{let e=b(A),t=b(fe);return e.isAuthenticated?!0:(window.alert("Not logged in!"),t.parseUrl("/home"))};var Qe=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Pe},{path:"books",loadChildren:()=>import("./chunk-SY3YCW26.js").then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>import("./chunk-UOI6ILF4.js").then(e=>e.AdminModule),canActivate:[Oe]}],ve=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=O({type:t}),t.\u0275inj=P({imports:[H.forRoot(Qe),H]});let e=t;return e})();function tt(e,t){if(e&1){let n=N();l(0,"button",12),_("click",function(){T(n);let i=y();return E(i.auth.login())}),m(1,3),u()}}function nt(e,t){if(e&1){let n=N();l(0,"button",13),_("click",function(){T(n);let i=y();return E(i.auth.logout())}),m(1,4),u()}}var ke=(()=>{let t=class t{constructor(o){this.auth=o}changeLocale(o){localStorage.setItem("locale",o),location.reload()}};t.\u0275fac=function(i){return new(i||t)(v(A))},t.\u0275cmp=M({type:t,selectors:[["bm-root"]],decls:16,vars:2,consts:()=>{let o;o=$localize`:nav home@@AppComponentHome:Home`;let i;i=$localize`:nav books@@AppComponentBooks:Books`;let r;r=$localize`:nav admin@@AppComponentAdmin:Administration`;let c;c=$localize`:login@@AppComponentLogin:Login`;let a;return a=$localize`:logout@@AppComponentLogout:Logout`,[o,i,r,c,a,["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"actions"],["class","green",3,"click",4,"ngIf"],["class","red",3,"click",4,"ngIf"],[3,"click"],[1,"green",3,"click"],[1,"red",3,"click"]]},template:function(i,r){i&1&&(l(0,"nav")(1,"a",5),m(2,0),u(),l(3,"a",6),m(4,1),u(),l(5,"a",7),m(6,2),u(),l(7,"div",8),$(8,tt,2,0,"button",9)(9,nt,2,0,"button",10),l(10,"button",11),_("click",function(){return r.changeLocale("de")}),h(11,"DE"),u(),l(12,"button",11),_("click",function(){return r.changeLocale("en")}),h(13,"EN"),u()()(),l(14,"main"),k(15,"router-outlet"),u()),i&2&&(p(8),g("ngIf",!r.auth.isAuthenticated),p(),g("ngIf",r.auth.isAuthenticated))},dependencies:[R,me,S,de]});let e=t;return e})();var Re=(()=>{let t=class t{constructor(o){this.authService=o}intercept(o,i){let r="1234567890";if(this.authService.isAuthenticated){let c=o.clone({setHeaders:{Authorization:`Bearer ${r}`}});return i.handle(c)}else return i.handle(o)}};t.\u0275fac=function(i){return new(i||t)(Y(A))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();var xe=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=O({type:t,bootstrap:[ke]}),t.\u0275inj=P({providers:[{provide:le,useClass:Re,multi:!0}],imports:[pe,ve,ce]});let e=t;return e})();function ot(){return U(this,null,function*(){if(localStorage.getItem("locale")!=="de")return"en-US";let t=yield(yield fetch("messages.de.json")).json();return Ee(t.translations),re($e),"de"})}ot().then(e=>{ue([{provide:ie,useValue:e}]).bootstrapModule(xe,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t))});
