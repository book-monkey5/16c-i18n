import{a as A}from"./chunk-HEPW5PNS.js";import{$ as h,A as T,Aa as de,B as E,Ba as H,Ca as ge,G as p,H as v,N as $,P as g,Q as Z,R as a,S as l,T as R,W as N,X as m,Y as _,Z as y,_ as q,aa as Q,ba as ee,c as U,d as j,da as te,ea as ne,fa as oe,i as X,ia as ie,j as J,k as V,l as K,ma as re,n as L,na as se,oa as k,pa as ae,q as W,r as P,sa as le,t as Y,ta as ce,u as b,ua as ue,v as M,va as pe,w as O,xa as me,ya as fe,za as S}from"./chunk-CSJASQYE.js";var D=":",be="|",Ae="@@",ye="\u241F",_e;function he(e){_e??=new TextEncoder;let n=_e.encode(e),t=new DataView(n.buffer,n.byteOffset,n.byteLength),o=Me(t,n.length,0),r=Me(t,n.length,102072);return o==0&&(r==0||r==1)&&(o=o^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(o))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function He(e,n=""){let t=he(e);return n&&(t=BigInt.asUintN(64,t<<BigInt(1))|t>>BigInt(63)&BigInt(1),t+=he(n)),BigInt.asUintN(63,t).toString()}function Me(e,n,t){let o=2654435769,r=2654435769,i=0,u=n-12;for(;i<=u;i+=12){o+=e.getUint32(i,!0),r+=e.getUint32(i+4,!0),t+=e.getUint32(i+8,!0);let c=Se(o,r,t);o=c[0],r=c[1],t=c[2]}let s=n-i;return t+=n,s>=4?(o+=e.getUint32(i,!0),i+=4,s>=8?(r+=e.getUint32(i,!0),i+=4,s>=9&&(t+=e.getUint8(i++)<<8),s>=10&&(t+=e.getUint8(i++)<<16),s===11&&(t+=e.getUint8(i++)<<24)):(s>=5&&(r+=e.getUint8(i++)),s>=6&&(r+=e.getUint8(i++)<<8),s===7&&(r+=e.getUint8(i++)<<16))):(s>=1&&(o+=e.getUint8(i++)),s>=2&&(o+=e.getUint8(i++)<<8),s===3&&(o+=e.getUint8(i++)<<16)),Se(o,r,t)[2]}function Se(e,n,t){return e-=n,e-=t,e^=t>>>13,n-=t,n-=e,n^=e<<8,t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t>>>12,n-=t,n-=e,n^=e<<16,t-=e,t-=n,t^=n>>>5,e-=n,e-=t,e^=t>>>3,n-=t,n-=e,n^=e<<10,t-=e,t-=n,t^=n>>>15,[e,n,t]}function we(e,n,t,o,r=[]){let i={},u={},s={},c=De(e[0],e.raw[0]),d=[c.text],B=[],x=c.text;for(let f=1;f<e.length;f++){let{messagePart:z,placeholderName:C=Fe(f),associatedMessageId:G}=Be(e[f],e.raw[f]);x+=`{$${C}}${z}`,n!==void 0&&(i[C]=n[f-1],u[C]=r[f-1]),B.push(C),G!==void 0&&(s[C]=G),d.push(z)}let F=c.customId||He(x,c.meaning||""),Le=c.legacyIds?c.legacyIds.filter(f=>f!==F):[];return{id:F,legacyIds:Le,substitutions:i,substitutionLocations:u,text:x,customId:c.customId,meaning:c.meaning||"",description:c.description||"",messageParts:d,messagePartLocations:o,placeholderNames:B,associatedMessageIds:s,location:t}}function De(e,n){let{text:t,block:o}=Ce(e,n);if(o===void 0)return{text:t};{let[r,...i]=o.split(ye),[u,s]=r.split(Ae,2),[c,d]=u.split(be,2);return d===void 0&&(d=c,c=void 0),d===""&&(d=void 0),{text:t,meaning:c,description:d,customId:s,legacyIds:i}}}function Be(e,n){let{text:t,block:o}=Ce(e,n);if(o===void 0)return{messagePart:t};{let[r,i]=o.split(Ae);return{messagePart:t,placeholderName:r,associatedMessageId:i}}}function Ce(e,n){if(n.charAt(0)!==D)return{text:e};{let t=ze(e,n);return{block:e.substring(1,t),text:e.substring(t+1)}}}function Fe(e){return e===1?"PH":`PH_${e-1}`}function ze(e,n){for(let t=1,o=1;t<e.length;t++,o++)if(n[o]==="\\")o++;else if(e[t]===D)return t;throw new Error(`Unterminated $localize metadata block in "${n}".`)}var w=class extends Error{constructor(n){super(`No translation found for ${Te(n)}.`),this.parsedMessage=n,this.type="MissingTranslationError"}};function Ge(e,n,t){let o=we(n,t),r=e[o.id];if(o.legacyIds!==void 0)for(let i=0;i<o.legacyIds.length&&r===void 0;i++)r=e[o.legacyIds[i]];if(r===void 0)throw new w(o);return[r.messageParts,r.placeholderNames.map(i=>{if(o.substitutions.hasOwnProperty(i))return o.substitutions[i];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${Te(o)}.
The translation contains a placeholder with name ${i}, which does not exist in the message.`)})]}function Ue(e){let n=e.split(/{\$([^}]*)}/),t=[n[0]],o=[];for(let i=1;i<n.length-1;i+=2)o.push(n[i]),t.push(`${n[i+1]}`);let r=t.map(i=>i.charAt(0)===D?"\\"+i:i);return{text:e,messageParts:je(t,r),placeholderNames:o}}function je(e,n){return Object.defineProperty(e,"raw",{value:n}),e}function Te(e){let n=e.meaning&&` - "${e.meaning}"`,t=e.legacyIds&&e.legacyIds.length>0?` [${e.legacyIds.map(o=>`"${o}"`).join(", ")}]`:"";return`"${e.id}"${t} ("${e.text}"${n})`}function Ee(e){$localize.translate||($localize.translate=Xe),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(e).forEach(n=>{$localize.TRANSLATIONS[n]=Ue(e[n])})}function Xe(e,n){try{return Ge($localize.TRANSLATIONS,e,n)}catch(t){return console.warn(t.message),[e,n]}}function Je(e){let n=e,t=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&o===0?1:5}var $e=["de",[["AM","PM"],void 0,void 0],void 0,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],void 0,void 0],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'um' {0}",void 0],[",",".",";","%","+","-","E","\xB7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","Euro",{ATS:["\xF6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[void 0,"\u0440."],CUC:[void 0,"Cub$"],DEM:["DM"],FKP:[void 0,"Fl\xA3"],GHS:[void 0,"\u20B5"],GNF:[void 0,"F.G."],KMF:[void 0,"FC"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],RWF:[void 0,"F.Rw"],SYP:[],THB:["\u0E3F"],TWD:["NT$"],XXX:[],ZMW:[void 0,"K"]},"ltr",Je];var Ke=e=>["/books",e];function We(e,n){if(e&1&&(a(0,"li")(1,"a",6),h(2),a(3,"p",7),h(4),l()()()),e&2){let t=n.$implicit;p(),g("routerLink",te(3,Ke,t.isbn)),p(),ee(" ",t.title," "),p(2),Q(t.subtitle)}}function Ye(e,n){e&1&&(a(0,"li"),h(1,"No results"),l())}function Ze(e,n){if(e&1&&(a(0,"ul",3),$(1,We,5,5,"li",4)(2,Ye,2,0,"li",5),l()),e&2){let t=n.ngIf;p(),g("ngForOf",t),p(),g("ngIf",!t.length)}}var Ie=(()=>{class e{service;input$=new j;isLoading=!1;results$;constructor(t){this.service=t,this.results$=this.input$.pipe(X(o=>o.length>=3),J(500),V(),L(()=>this.isLoading=!0),K(o=>this.service.getAllSearch(o)),L(()=>this.isLoading=!1))}static \u0275fac=function(o){return new(o||e)(v(ge))};static \u0275cmp=M({type:e,selectors:[["bm-search"]],decls:4,vars:5,consts:()=>{let t;return t=$localize`:search input ARIA label|input search@@SearchComponentInput:Search`,[["searchInput",""],["type","search","autocomplete","off","aria-label",t,3,"input"],["class","search-results",4,"ngIf"],[1,"search-results"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],["role","doc-subtitle"]]},template:function(o,r){if(o&1){let i=N();a(0,"input",1,0),_("input",function(){T(i);let s=q(1);return E(r.input$.next(s.value))}),l(),$(2,Ze,3,2,"ul",2),ne(3,"async")}o&2&&(Z("loading",r.isLoading),p(2),g("ngIf",oe(3,3,r.results$)))},dependencies:[se,k,S,ae]})}return e})();var Pe=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=M({type:e,selectors:[["bm-home"]],decls:7,vars:0,consts:()=>{let t;t=$localize`:title home|Title for the home page@@HomeComponentTitle:Home`;let o;o=$localize`:link books list|Text of the link to the books screen@@HomeComponentBooks: Show book list
`;let r;return r=$localize`:headline search|Headline text above the search input@@HomeComponentSearchHeadline:Search`,[t,o,r,["routerLink","/books",1,"button","red"]]},template:function(o,r){o&1&&(a(0,"h1"),m(1,0),l(),a(2,"a",3),m(3,1),l(),a(4,"h2"),m(5,2),l(),R(6,"bm-search"))},dependencies:[S,Ie]})}return e})();var Oe=()=>{let e=b(A),n=b(fe);return e.isAuthenticated?!0:(window.alert("Not logged in!"),n.parseUrl("/home"))};var Qe=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Pe},{path:"books",loadChildren:()=>import("./chunk-47XC777Z.js").then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>import("./chunk-AIDXT4NW.js").then(e=>e.AdminModule),canActivate:[Oe]}],ve=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=O({type:e});static \u0275inj=P({imports:[H.forRoot(Qe),H]})}return e})();function tt(e,n){if(e&1){let t=N();a(0,"button",12),_("click",function(){T(t);let r=y();return E(r.auth.login())}),m(1,3),l()}}function nt(e,n){if(e&1){let t=N();a(0,"button",13),_("click",function(){T(t);let r=y();return E(r.auth.logout())}),m(1,4),l()}}var Re=(()=>{class e{auth;constructor(t){this.auth=t}changeLocale(t){localStorage.setItem("locale",t),location.reload()}static \u0275fac=function(o){return new(o||e)(v(A))};static \u0275cmp=M({type:e,selectors:[["bm-root"]],decls:16,vars:2,consts:()=>{let t;t=$localize`:nav home@@AppComponentHome:Home`;let o;o=$localize`:nav books@@AppComponentBooks:Books`;let r;r=$localize`:nav admin@@AppComponentAdmin:Administration`;let i;i=$localize`:login@@AppComponentLogin:Login`;let u;return u=$localize`:logout@@AppComponentLogout:Logout`,[t,o,r,i,u,["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"actions"],["class","green",3,"click",4,"ngIf"],["class","red",3,"click",4,"ngIf"],[3,"click"],[1,"green",3,"click"],[1,"red",3,"click"]]},template:function(o,r){o&1&&(a(0,"nav")(1,"a",5),m(2,0),l(),a(3,"a",6),m(4,1),l(),a(5,"a",7),m(6,2),l(),a(7,"div",8),$(8,tt,2,0,"button",9)(9,nt,2,0,"button",10),a(10,"button",11),_("click",function(){return r.changeLocale("de")}),h(11,"DE"),l(),a(12,"button",11),_("click",function(){return r.changeLocale("en")}),h(13,"EN"),l()()(),a(14,"main"),R(15,"router-outlet"),l()),o&2&&(p(8),g("ngIf",!r.auth.isAuthenticated),p(),g("ngIf",r.auth.isAuthenticated))},dependencies:[k,me,S,de]})}return e})();var ke=(()=>{class e{authService;constructor(t){this.authService=t}intercept(t,o){let r="1234567890";if(this.authService.isAuthenticated){let i=t.clone({setHeaders:{Authorization:`Bearer ${r}`}});return o.handle(i)}else return o.handle(t)}static \u0275fac=function(o){return new(o||e)(Y(A))};static \u0275prov=W({token:e,factory:e.\u0275fac})}return e})();var xe=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=O({type:e,bootstrap:[Re]});static \u0275inj=P({providers:[{provide:le,useClass:ke,multi:!0}],imports:[pe,ve,ce]})}return e})();function ot(){return U(this,null,function*(){if(localStorage.getItem("locale")!=="de")return"en-US";let n=yield(yield fetch("messages.de.json")).json();return Ee(n.translations),re($e),"de"})}ot().then(e=>{ue([{provide:ie,useValue:e}]).bootstrapModule(xe,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n))});
